% -----------------------------------------------------------------------------+
%                                                                              |
%  terminal.pl                                                                 |
%                                                                              |
%  This file is part of "sld-tree-generator". (this program)                   |
%                                                                              |
% -----------------------------------------------------------------------------+
%                                                                              |
%  Copyright (C) 2016 by Andreas Pollhammer                                    |
%                                                                              |
%  Email: apoll500@gmail.com                                                   |
%  Web:   http://www.andreaspollhammer.com                                     |
%                                                                              |
% -----------------------------------------------------------------------------+
%                                                                              |
%  Licensed under GPLv3:                                                       |
%                                                                              |
%  This program is free software: you can redistribute it and/or modify        |
%  it under the terms of the GNU General Public License as published by        |
%  the Free Software Foundation, either version 3 of the License, or           |
%  (at your option) any later version.                                         |
%                                                                              |
%  This program is distributed in the hope that it will be useful,             |
%  but WITHOUT ANY WARRANTY; without even the implied warranty of              |
%  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the               |
%  GNU General Public License for more details.                                |
%                                                                              |
%  You should have received a copy of the GNU General Public License           |
%  along with this program.  If not, see <http://www.gnu.org/licenses/>.       |
%                                                                              |
% -----------------------------------------------------------------------------+
:-module(terminal,[locate/2,
           moveLeft/0,
           moveRight/0,
           moveUp/0,
           moveDown/0,
           moveLeft/1,
           moveRight/1,
           moveUp/1,
           moveDown/1,
           color/1,
           bgcolor/1,
           cls/0,
           cls/1]).

% ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% Predikate zur Ausgabe an stdout
% ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% ------------------------------------------------------------------------------
% Praedikate zur Ausgabe von ANSI Escape-Sequencen
% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
csi:-
    put(27),
    put('[').

% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
tseq(Parameter,FinalChar):-
    csi,
    write(Parameter),
    put(FinalChar).

% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
tseq(ParamA,ParamB,FinalChar):-
    csi,
    write(ParamA),
    put(';'),
    write(ParamB),
    put(FinalChar).

% ------------------------------------------------------------------------------
% Position des Text-Cursor setzen
% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
locate(Row,Column):-
    tseq(Row,Column,'H').

% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
moveLeft:-
    moveLeft(1).

% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
moveRight:-
    moveRight(1).

% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
moveUp:-
    moveUp(1).

% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
moveDown:-
    moveDown(1).

% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
moveLeft(N):-
    tseq(N,'D').

% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
moveRight(N):-
    tseq(N,'C').

% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
moveUp(N):-
    tseq(N,'A').

% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
moveDown(N):-
    tseq(N,'B').

% ------------------------------------------------------------------------------
% Farben setzen
% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
color(Color):-
    C is 30+Color,
    tseq(C,'m').

% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
bgcolor(Color):-
    C is 40+Color,
    tseq(C,'m').

% ------------------------------------------------------------------------------
% Ausgabe von Unicode Zeichen
% ------------------------------------------------------------------------------

% ------------------------------------------------------------------------------
% Misc
% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
cls:-
    cls(2).

% ------------------------------------------------------------------------------
% ------------------------------------------------------------------------------
cls(N):-
    tseq(N,'J').

